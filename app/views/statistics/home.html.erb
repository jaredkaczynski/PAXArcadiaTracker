<div class="paxred border-bottom pt-4">
  <div class="row justify-content-start">
    <h2>Leaderboard</h2>
  </div>
</div>

<div class="row pt-3">
  <div class="table-responsive">
    <table id="players" class="table table-bordered">
      <thead>
      <tr>
        <th>Username</th>
        <th>Time Taken</th>
        <th>Time Completed</th>
      </tr>
      </thead>
      <tbody>
      <% @players.each do |player| %>
        <tr>
          <td><%= player.username %></td>
          <td data-sort="<%= player.time_taken %>"><%= formatted_duration(player.time_taken) %></td>
          <td data-sort="<%= player.time_completed.to_i %>"><%= player.time_completed %></td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>

<script>
    $(document).ready(function () {
        $('#players').DataTable({
            "iDisplayLength": 50,
            "order": [[ 2, "asc" ]],
            "columns": [
                null,
                {"orderDataType": "dom-text"},
                {"orderDataType": "dom-text", "type": "numeric"},
            ]
        });
    });
</script>